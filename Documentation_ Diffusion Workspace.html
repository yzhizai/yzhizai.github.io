<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0046)http://med.inria.fr/docs/23-doc-diffusion-conf -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-gb" lang="en-gb" slick-uniqueid="4"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
  
<script type="text/javascript" async="" src="./Documentation_ Diffusion Workspace_files/ga.js"></script><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-23264720-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

    <!--<base href="http://med.inria.fr/docs/23-doc-diffusion-conf">--><base href=".">
  
  <meta name="keywords" content="medinria, &quot;medical imaging&quot;">
  <meta name="author" content="Sergio Medina">
  <meta name="description" content="medInria - Medical Imaging Platform">
  <meta name="generator" content="Joomla! - Open Source Content Management">
  <title>Documentation: Diffusion Workspace</title>
  <link rel="stylesheet" href="./Documentation_ Diffusion Workspace_files/grid-12.css" type="text/css">
  <link rel="stylesheet" href="./Documentation_ Diffusion Workspace_files/gantry.css" type="text/css">
  <link rel="stylesheet" href="./Documentation_ Diffusion Workspace_files/joomla.css" type="text/css">
  <link rel="stylesheet" href="./Documentation_ Diffusion Workspace_files/joomla(1).css" type="text/css">
  <link rel="stylesheet" href="./Documentation_ Diffusion Workspace_files/style6.css" type="text/css">
  <link rel="stylesheet" href="./Documentation_ Diffusion Workspace_files/template.css" type="text/css">
  <link rel="stylesheet" href="./Documentation_ Diffusion Workspace_files/typography.css" type="text/css">
  <style type="text/css">
 body a {color:#e33729;}
body a, #rt-main-surround .rt-article-title, #rt-main-surround .title, #rt-showcase .title, #rt-showcase .showcase-title span, #rt-top .title, #rt-header .title, #rt-feature .title {color:#e33729;}
  </style>
  <script src="./Documentation_ Diffusion Workspace_files/mootools-core.js" type="text/javascript"></script>
  <script src="./Documentation_ Diffusion Workspace_files/core.js" type="text/javascript"></script>
  <script src="./Documentation_ Diffusion Workspace_files/caption.js" type="text/javascript"></script>
  <script src="./Documentation_ Diffusion Workspace_files/gantry-buildspans.js" type="text/javascript"></script>
  <script src="./Documentation_ Diffusion Workspace_files/gantry-inputs.js" type="text/javascript"></script>
  <script src="./Documentation_ Diffusion Workspace_files/browser-engines.js" type="text/javascript"></script>
  <script type="text/javascript">
window.addEvent('load', function() {
				new JCaption('img.caption');
			});
			window.addEvent('domready', function() {
				var modules = ['rt-block'];
				var header = ['h3','h2:not(.itemTitle)','h1'];
				GantryBuildSpans(modules, header);
			});
		
InputsExclusion.push('.content_vote')
  </script>
</head>
  <body class="backgroundlevel-high bodylevel-high cssstyle-style6 font-family-lucida font-size-is-default col12" ryt12190="1">
            <div id="rt-header">
      <a href="https://github.com/medInria/medinria-superproject"><img style="position: absolute; top: 0; right: 0; border: 0;" src="./Documentation_ Diffusion Workspace_files/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>
      <div class="rt-container">
        <div id="rt-header2">
          <div id="rt-header3">
            <div id="rt-header4">
              <div class="rt-grid-4 rt-alpha">
    	<div class="rt-block">
		<a href="http://med.inria.fr/" id="rt-logo"></a>
	</div>
	
</div>
<div class="rt-grid-8 rt-omega">
                    <div class="_menu">
                    <div class="rt-block">
				<div class="module-surround">
								        <div class="module-icon"></div>
			        	                					<div class="module-content">
	                	
<ul class="menu">
<li id="item-41"><a href="http://med.inria.fr/"><span>Home</span></a></li><li id="item-9" class="deeper parent"><span class="separator"><span>The App</span></span>
<ul><li id="item-187"><a href="http://med.inria.fr/the-app/release-notes"><span>Release Notes</span></a></li><li id="item-6"><a href="http://med.inria.fr/the-app/downloads"><span>Downloads</span></a></li><li id="item-4"><a href="http://med.inria.fr/the-app/sneak-peek"><span>Take a Sneak Peek</span></a></li><li id="item-10"><a href="http://med.inria.fr/the-app/features"><span>Features Description</span></a></li></ul></li><li id="item-8" class="deeper parent"><span class="separator"><span>Need Help?</span></span>
<ul><li id="item-172"><a href="http://med.inria.fr/help/forum"><span>Forum</span></a></li><li id="item-7"><a href="http://med.inria.fr/help/documentation"><span>Documentation</span></a></li><li id="item-34"><a href="http://med.inria.fr/help/ask-us"><span>Ask Us!</span></a></li></ul></li><li id="item-36" class="deeper parent"><span class="separator"><span>Develop</span></span>
<ul><li id="item-39"><a href="https://www.github.com/medInria/medinria-superproject/wiki" target="_blank"><span>Documentation</span></a></li><li id="item-38"><a href="https://www.github.com/medInria/medinria-superproject" target="_blank"><span>Source Code</span></a></li><li id="item-37"><a href="http://med.inria.fr/redmine" target="_blank"><span>Bug Tracker</span></a></li><li id="item-40"><a href="http://med.inria.fr/develop/hands-on-sessions"><span>Hands-On Sessions</span></a></li></ul></li><li id="item-33" class="deeper parent"><span class="separator"><span>About</span></span>
<ul><li id="item-5"><a href="http://med.inria.fr/about/the-team"><span>Acknowledgments</span></a></li><li id="item-24"><a href="http://med.inria.fr/about/license"><span>License &amp; Disclaimer</span></a></li></ul></li><li id="item-3"><a href="http://med.inria.fr/contact"><span>Contact Us</span></a></li></ul>					</div>
				</div>
            </div>
                </div>
		
</div>
              <div class="clear"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
                <div id="rt-feature">
      <div class="rt-container">
                <div class="clear"></div>
      </div>
    </div>
                <div id="rt-main-surround">
                                    
<div id="rt-main" class="mb12">
                <div class="rt-container">
                    <div class="rt-grid-12 ">
                                                						<div class="rt-block">
	                        <div id="rt-mainbody">
								<div class="component-content">
	                            	<div class="rt-article"><div class="rt-article-bg">
	<div class="item-page">
				
		
		
		
		
															
				
		
						
																<p style="text-align: center;"><span style="font-size: 18pt;"><strong>Diffusion Workspace</strong></span></p>
<p><strong>&nbsp;</strong></p>
<p><span style="font-size: 12pt;"><strong>Overview: what can be done?</strong></span></p>
<p>The diffusion configuration is the area dedicated to diffusion MRI processing and visualization. Here we can tweak tensor and fiber visualization, work with fiber bundles and run tractography algorithms.</p>
<p><strong>&nbsp;</strong></p>
<p><span style="font-size: 12pt;"><strong>Tensor view toolbox</strong></span></p>
<p>The tensor view toolbox was created to control the way the tensors are calculated, rendered and displayed. The following parameters can be tweaked:</p>
<p style="text-align: center;">&nbsp;</p>
<p style="text-align: center;"><img src="./Documentation_ Diffusion Workspace_files/diffusion tensor view toolbox.png" border="0" alt="diffusion tensor view toolbox" width="316" height="245">&nbsp;</p>
<p style="text-align: center;">&nbsp;</p>
<p><span style="text-decoration: underline;">Shape</span>: Determines the figure of the glyph. Possible options are Lines, Disks, Arrows, Cubes, Cylinders, Ellipsoids, and Superquadrics.</p>
<p><span style="text-decoration: underline;">Sample rate</span>: The higher this value, the more spread the sampling will be, hence less glyphs will appear on the screen.</p>
<p><span style="text-decoration: underline;">Flip X / Y / Z</span>: By checking or unchecking these checkboxes the respective X, Y or Z axes can be flipped.</p>
<p><span style="text-decoration: underline;">Color with v1 / v2 / v3</span>: Choose which eigenvector is used for mapping the color mode.</p>
<p><span style="text-decoration: underline;">Resolution</span>: Increases or decreases the amount of detail of each tensor's glyph. Lower values are preferred for slower computers.</p>
<p><span style="text-decoration: underline;">Scale</span>: These two values are used to set the scaling factor for the glyphs, hence, their size.</p>
<p><span style="text-decoration: underline;">Hide / Show Axial, Coronal, Sagittal</span>: Hides or Show the respectives planes.</p>
<p><strong>&nbsp;</strong></p>
<p>Here is a quick video demonstrating tensors visualization and the tensor view toolbox:</p>
<p>&nbsp;</p>
<p style="text-align: center;">&nbsp;</p>
<p>&nbsp;</p>
<p><strong style="font-size: 16px;">Fiber view toolbox</strong></p>
<p>The Fiber View toolbox alters the visualization aspect of the fibers being rendered. It's capable of controlling the following:</p>
<p style="text-align: center;"><img src="./Documentation_ Diffusion Workspace_files/diffusion-fiber-view-toolbox.png" border="0" alt="diffusion-fiber-view-toolbox" width="311" height="180"></p>
<p><em>Color fibers by: </em>Whether the fibers are colored by their local or global orientation or by considering the fractional anisotropy.</p>
<p><em>Use hardware acceleration</em>: Uses GPU hardware acceleration.</p>
<p><em>Display fibers as</em>: There are 3 possibilities to display fibers, as polylines, ribbons or tubes.</p>
<p><em>Fiber radius</em>: Modifies the radius of the fibers (if they are not being displayed as polylines, which are not volumes).</p>
<p><br>The following video shows these capabilities:</p>
<p>&nbsp;</p>
<p style="text-align: center;">&nbsp;</p>
<p><span style="font-size: 12pt;"><strong>&nbsp;</strong></span></p>
<p><span style="font-size: 12pt;"><strong>Tractography</strong></span></p>
<p>medInria v2 provides one tractograpy algorithm. In order run it we need to select it from the "Algorithm" box, then many configurable options will appear.</p>
<p style="text-align: justify;">Drag and drop the image you want to process to the dark-grey box just below the algorithm selection box. If you want also to view the tensors and/or fibers overlayed with the image, open it in the main view window (also, by drag and dropping it).</p>
<p style="text-align: justify;">&nbsp;</p>
<p><img src="./Documentation_ Diffusion Workspace_files/dropsite.png" border="0" alt="dropsite" width="322" height="216" style="display: block; margin-left: auto; margin-right: auto;"><br><br></p>
<p>If the image doesn't already have its diffusion gradients list, you will be prompted to select the appropriate file.<br>In our <a href="http://med.inria.fr/downloads/xDTICUBE-4D.zip">example dataset</a> there is a sample image with its gradients, ready to use for tensor and fiber processing. If you are using your own gradients file it should look like the one in the example dataset: in the first line it states how many lines are to be read next and in each of the following lines there are three integer or floating point numbers, separated by a blank space (no tabs).<br>Once the gradients are selected, they are stored in the image for later use. If an error occurs, drag and drop the image again in order to select another gradients file.</p>
<p><img src="./Documentation_ Diffusion Workspace_files/gradients message box.png" border="0" alt="gradients message box" width="267" height="150" style="display: block; margin-left: auto; margin-right: auto;"></p>
<p><strong><span style="font-size: 10pt;"><br>Pre-processing Section:<br><br></span></strong></p>
<p><em>Automatic brain extraction</em></p>
<p>This option is activated by default, the software will remove the skull and leave only the brain. If you want to manually configure this feature deselect the "Automatic brain extraction" checkbox and the "Background removal threshold" slider will be activated. The algorithm will treat image voxels whose value falls below the threshold as belonging to the skull, hence they won't be used by further processes.<br><br></p>
<p><em>Use smoothing</em></p>
<p>By activating this feature, the algorithm will try to reduce the noise. As a drawback it will reduce the accuracy also. Usually this option is not necessary except for special cases.<br><br></p>
<p><img src="./Documentation_ Diffusion Workspace_files/smoothing.png" border="0" alt="smoothing" width="318" height="150" style="display: block; margin-left: auto; margin-right: auto;"></p>
<p>&nbsp;</p>
<p><strong><span style="font-size: 10pt;">Tensors:<br><br></span></strong></p>
<p>By clicking "Show tensors" medInria will generate the tensors associated with the input image.<br><br>Different diffusion tensor maps can be chosen:<br><br></p>
<p><em>FA</em>: Fractional Anisotropy<br><em>FA</em> (with a coloured brain behind): Coloured Fractional Anisotropy<br><em>RA</em>: Relative Anisotropy<br><em>l1 (Lambda 1)</em>: Largest Eigenvalue<br><em>l2 (Lambda 2)</em>: 2nd Largest Eigenvalue<br><em>l3 (Lambda 3)</em>: Smallest Eigenvalue<br><em>Cl</em>: Linear Coefficient<br><em>Cp</em>: Planar Coefficient<br><em>Cs</em>: Spherical Coefficient<br><em>ADC</em>: Average Diffusion Coefficient<br><em>VR</em>: Volume Ratio<br><em>lFA</em>: Logarithmic Fractional Anisotropy<br><br></p>
<p><img src="./Documentation_ Diffusion Workspace_files/tensors box.png" border="0" alt="tensors box" width="290" height="360" style="display: block; margin-left: auto; margin-right: auto;"></p>
<p>&nbsp;</p>
<p>FA pixels are colorized in relation with the principal direction of diffusion (i.e. principal eigenvector of the tensor). Consequently, the color represents an indication of the direction of the fiber bundles. A red pixel indicates that in this location white matter is mainly orientated Left-Right. Anterior-Posterior orientation is indicated by a green pixel and Inferior-Superior orientation by a blue one.</p>
<p><br><span style="font-size: 10pt;"><strong>Tractography:</strong></span></p>
<p>Several parameters can be tweaked before running the algorithm:<br><br></p>
<p><em>Starting FA threshold and Stopping FA threshold:</em></p>
<p>In order to build the fibers, the algorithm starts by seeding one in every voxel whose FA value is higher than "Starting FA threshold" and stops its construction when it reaches a voxel with FA value lower than "Stopping FA threshold".</p>
<p><em>Smoothness</em></p>
<p>The smoothness value indicates how "strictly" the fiber follows the tensors. The higher the value, the less the fiber gets deviated by the tensors. A value of 0 indicates that the fiber strictly follows the tensors.</p>
<p><em>Minimum length:</em></p>
<p>At the final stage of the algorithm, fibers whose length is below the chosen amount (in millimetres) are deleted.</p>
<p><em>Sampling:</em></p>
<p>If seeding a fiber in every voxel allowed by the FA threshold is not desired, the sampling feature will force the algorithm to only seed one fiber in every X voxels, being X the selected sampling value.</p>
<p><span style="font-size: 12pt;"><strong><img src="./Documentation_ Diffusion Workspace_files/tractography.png" border="0" alt="tractography" width="291" height="300" style="display: block; margin-right: auto; margin-left: auto;"><br></strong></span></p>
<p><span style="font-size: 12pt;"><strong>Fiber bundling toolbox<br><br></strong></span></p>
<p>The purpose of this toolbox is to allow the user to isolate a bundle of fibers.</p>
<p>&nbsp;<br><strong><span style="font-size: 10pt;">Regions of Interest:</span></strong></p>
<p><br> The creation of ROIs in medInria v2.x is still under development, however future releases are expected to have an improved method for ROIs generation.<br> <br> In medInria 2.x we have separated the concepts of image segmentation from DTI-related tasks. In the <a href="http://med.inria.fr/docs/41-doc-segmentation-configuration">Segmentation configuration</a> (currently in beta) it is possible to create ROIs by painting on slices (as in the previous version). Once finalized the ROIs can be saved to the database. For the moment we do not support opening ROI images from the database, you will need to work around it by exporting the image and the load it with the "Open ROI" button.<br> Instructions for using the segmentation configuration can be found in&nbsp;<a href="http://med.inria.fr/docs/41-doc-segmentation-configuration">the doc page</a> of the Segmentation configuration&nbsp;and <a href="http://med.inria.fr/docs/24-doc-browser-area">the doc page of the Browser Area</a>&nbsp;explains how to export an image.</p>
<p><br>We can then proceed to import an existing ROI. The first part let the user open files which state ROIs (Region of Interest). Such files are also 3D images of the same size as the displayed fiber/tensor and they declare up to 255 ROIs (each one being identified by a natural number between 0 and 255).<br>Once the file is loaded, medInria will isolate the fibers that (by default) touch every ROI.<br><br>This default behaviour may be changed by selecting each ROI (numbered ROI 1 to ROI 255) and changing the logical operator located on the right:</p>
<p><em>AND</em>: fibers will need to at least touch this ROI<br><em>NOT</em>: fibers that touch this ROI will not be considered<br><em>NULL</em>: this ROI is not being taken into account</p>
<p>&nbsp;</p>
<p><img src="./Documentation_ Diffusion Workspace_files/rois.png" border="0" alt="rois" width="314" height="99" style="display: block; margin-left: auto; margin-right: auto;"></p>
<p>&nbsp;<strong><span style="font-size: 10pt;"><br>Bundling Box</span></strong>:</p>
<p>Below, the fiber bundling controls can be found. By checking "Activate bundling box" a movable box will be overlayed along with the fibers being displayed at the moment.<br>The user can increase/decrease the size of the box by dragging the white spheres that are on its borders, it can also be moved the same way images are moved.<br>By default, every fiber that at least touches the bundling box is selected. To achieve the opposite behaviour, the "Add" button shall be clicked (hence isolated fibers will be the ones not touching the toolbox).<br><br>Once the user successfully isolates a group of fibers, he/she may "Tag" the bundle. By doing this the bundle will be memorized by medInria and another, new bundling box, will appear. This new box will isolate fibers as explained before but will also consider the previously "tagged" fibers. The "Tag" button can be pressed as much as desired, chaining the same effect.<br>The "Reset" button makes medInria forgets everything and lets the user start over.<br>The "Validate" button will save the current shown bundle, assign it a colour, add it to the textbox below, and show useful information about it.</p>
<p>Finally, if you do not want to see all your previously created bundles, deselect the "Show all bundles" checkbox.&nbsp;</p>
<p><span style="font-size: 12pt;"><strong><img src="./Documentation_ Diffusion Workspace_files/bundling.png" border="0" alt="bundling" width="317" height="252" style="display: block; margin-left: auto; margin-right: auto;"></strong></span></p>
<p style="text-align: center;"><span style="font-size: 12pt;"><strong>&nbsp;</strong></span></p>
<p style="text-align: center;"><span style="font-size: 12pt;"><span style="font-size: 8pt;">Fiber bundle:</span><strong><br></strong></span></p>
<p><span style="font-size: 12pt;"><strong><img src="./Documentation_ Diffusion Workspace_files/bundled fibers.png" border="0" alt="bundled fibers" width="418" height="373" style="display: block; margin-left: auto; margin-right: auto;"></strong></span></p>
<p><span style="font-size: 12pt;"><strong>&nbsp;</strong></span></p>
<p><a href="http://med.inria.fr/help/documentation">Back to Documentation Index</a></p>										
		
			
				
		
			</div>
</div></div>
								</div>
	                        </div>
						</div>
                                                                    </div>
                                        <div class="clear"></div>
                </div>
            </div>
                </div>
    <div class="clear"></div>
                        <div id="rt-copyright">
      <div class="rt-container">
        <div class="rt-grid-12 rt-alpha rt-omega">
    		<div class="clear"></div>
		<div class="rt-block">
			<div id="powered-by">
				Designed By <a href="http://www.rockettheme.com/" title="rockettheme.com" id="rocket"></a> 
				Powered By <a href="http://www.rockettheme.com/gantry" title="Gantry Framework" id="gantry-logo"></a>
			</div>
			<span class="copytext">Copyright © 2012 Inria. All rights are reserved.</span>
		</div>
		
</div>
        <div class="clear"></div>
      </div>
    </div>
          

</body></html>